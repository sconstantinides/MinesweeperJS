<!DOCTYPE html>
<html>
<head>
  <title>Minesweeper</title>
  <meta charset="utf-8">
  <meta name="description" content="A simple Minesweeper game built using JavaScript.">
  <meta name="author" content="Stelios Constantinides">
  <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="minesweeper.css">
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <script src="minesweeper.js"></script>
</head>
<body>
  <div id="dashboard" class="controls">
    <ul id="difficulty">
      <li id="easy">Easy</li>
      <li id="reg" class="selected">Reg</li>
      <li id="hard">Hard</li>
    </ul>
    <div id="feedback"></div>
  </div>
  <div id="board"></div>
  <div id="new-game" class="controls">Play again?</div>

  <i id="help-btn" class="fa fa-question-circle"></i>
  <div id="help-modal">
    <div id="help-content">
      <h2>
        <i class="fa fa-bookmark"></i>HOW TO PLAY
      </h2>
      <p>Each game starts with mines hidden on the board. Your goal is to uncover the safe squares.</p>
      <p>When you click on a safe square, you'll see the number of bombs that square touches.</p>
      <p>To help keep track, you can mark squares as bombs by right-clicking on them.</p>
      <span title="Close" id="help-close">
        <i class="fa fa-times-circle"></i>Close this window
      </span>
      <p id="credit">
        Built by @stothelios as an experiment in JS objects.
      </p>
    </div>
  </div>

  <a id="git-btn" title="GitHub" href="https://github.com/sconstantinides/MinesweeperJS" target="_blank">
    <i class="fa fa-github"></i>
  </a>

  <script type="text/javascript">
    $(function(){

      // Start on easy, reg, or hard
        var difficulty = 'reg';

      // Create a new game
        newGame(difficulty);

      // Set new game listeners
        $('#new-game').click(function() {
          var difficulty = $('#difficulty li.selected').attr('id');
          newGame(difficulty);
        });

        $("#difficulty li").click(function() {
          $('#difficulty li').removeClass('selected');
          $(this).addClass('selected');

          var difficulty = this.id;
          newGame(difficulty);
        });

      // Set help listeners
        $('#help-btn').click(function() {
          $('#help-modal').fadeIn(400);
        });

        $('#help-modal').click(function(event) {
          if(event.target.id === 'help-modal' || event.target.id === 'help-close') {
            $('#help-modal').fadeOut(200);
          }
        });

    });
  </script>
</body>
</html>
